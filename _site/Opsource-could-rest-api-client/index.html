<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Ruby - Opsource (Dimension Data) REST API client &#8211; Tech stream</title>
<meta name="description" content="Ruby gem to connect to op-source's REST API and perform actions without accessing the UI">
<meta name="keywords" content="cloud, ror, ruby, web, automation">



<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Ruby - Opsource (Dimension Data) REST API client">
<meta property="og:description" content="Ruby gem to connect to op-source's REST API and perform actions without accessing the UI">
<meta property="og:url" content="http://localhost:4000/Opsource-could-rest-api-client/">
<meta property="og:site_name" content="Tech stream">





<link rel="canonical" href="http://localhost:4000/Opsource-could-rest-api-client/">
<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Tech stream Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">
<!-- Webfonts -->
<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://localhost:4000/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://localhost:4000/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/images/apple-touch-icon-144x144-precomposed.png">


</head>

<body id="post" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://localhost:4000/index.html">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li class="author-info">
					<img src="http://localhost:4000/images/uday.jpg" alt="Udaya Kiran photo" class="author-photo">
					<h4>Udaya Kiran</h4>
				</li>
				<li>
					<p>Engineering & Product Leader, Programmer, Entrepreneur</p>
				</li>
				<li>
					<a href="mailto:udaykiran.vit@gmail.com"><i class="fa fa-fw fa-envelope"></i> Email</a>
				</li>
				
				
				
				<li>
					<a href="http://linkedin.com/in/udaykirank"><i class="fa fa-fw fa-linkedin"></i> LinkedIn</a>
				</li>
				<li>
					<a href="http://github.com/udayakiran"><i class="fa fa-fw fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		
	    
	    <li><a href="http://localhost:4000/posts/" >All Posts</a></li>
	  
	    
	    <li><a href="http://localhost:4000/tags/" >All Tags</a></li>
	  
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->



<div class="entry-header">
  <div class="entry-image">
  <!--<div class="entry-image" style="background-color: #616161db"> -->
    <!--<img src="http://localhost:4000/images/abstract-6.jpg" alt="Ruby - Opsource (Dimension Data) REST API client">-->
  </div><!-- /.entry-image -->
</div><!-- /.entry-header -->


<div id="main" role="main">
  <article class="hentry">
    <header class="header-title">
      <div class="header-title-wrap">
        
          <h1 class="entry-title"><a href="http://localhost:4000/Opsource-could-rest-api-client/" rel="bookmark" title="Ruby - Opsource (Dimension Data) REST API client">Ruby - Opsource (Dimension Data) REST API client</a></h1>
        
        
        <h2 class="entry-reading-time" style="text-align: center">
          <i class="fa fa-clock-o"></i>
          
          Reading time ~3 minutes
          <i style="font-style:normal;">  |  </i>
          June 10, 2013
        </h2><!-- /.entry-reading-time -->
        
      </span>
      </div><!-- /.header-title-wrap -->
    </header>
    <div class="entry-content">
      <h2 id="problem--">Problem -</h2>

<p>We have been hosting some of our apps on the cloud provided by Op source (formally Dimension Data now.). While trying to automate a number of things with it, there was a particular scenario where we had to create a new ip and add a NAT  rule for it when a new site is created from one of our webapps. This is quite an interesting task where network and server related tasks of a cloud provider need to be automated from the web UI of another app.</p>

<h2 id="solution--">Solution -</h2>

<p>It was quite pleasing and impressive on op source’s part that they had a REST API in place for the exact need of ours. They claim that their whole web portal for network admins is built using this REST API. Such a cool design :) So, i could use their API and do the tasks i needed to. I have used the version 0.9 of the API which is the latest to the date.</p>

<h3 id="references-to-the-api--">References to the API -</h3>

<ol>
  <li>
    <p><a href="https://github.com/udayakiran/opsource_client/raw/master/doc/Cloud-REST-API-v09-032113.pdf">API spec</a></p>
  </li>
  <li>
    <p><a href="http://cloud.dimensiondata.com/saas-solutions/services/public-cloud/api">API details</a></p>
  </li>
</ol>

<h3 id="what-can-be-done-with-this-api-">What can be done with this API ?</h3>

<p>Well, almost everything. like</p>

<p><strong>1. Account API -</strong> get account details, manage sub admins, list data centers and etc.</p>

<p><strong>2. Server Image API -</strong> list and manage OS server images and customer images.</p>

<p><strong>3. Import &amp; Export Customer Image API -</strong> list, import and export customer images.</p>

<p><strong>4. Server API -</strong> list the servers, deploy a server, start and shutdown a server and etc.</p>

<p><strong>5. Network API -</strong> list networks and location, create a network and manage, manage ACLs, ips, NAT rules and etc. (This is exactly what we needed.)</p>

<p><strong>6. VIP / Load-Balancing API -</strong> manage real servers and probes.</p>

<p><strong>7. . Files Account API -</strong> manage file accounts.</p>

<p><strong>8. Reports API -</strong> usage reports.</p>

<h2 id="coding-and-ruby-gem--">Coding and ruby gem -</h2>

<p>Once the impressive REST API was discoverd, it drove me enough to write a simple REST API client for opsource’s API. This is written as a generic framework to support all the above mentioned APIs. As i needed to use network API, implemented network API and added calls to create and modify the NAT rule.</p>

<p>Source code - <a href="https://github.com/udayakiran/opsource_client">Opsource client</a></p>

<p>Install &amp; Usage - <a href="https://github.com/udayakiran/opsource_client/blob/master/README.md">README</a></p>

<p>Please go through the README to find the usage instructions and instructions on how to add more end points.</p>

<h3 id="moving-out-of-singleton-pattern--">Moving out of singleton pattern -</h3>

<p>Initially the gem was designed using singleton classes for the configuration as it is most likely that one organization has one opsource cloud account and singleton avoid the need to create api client objects time and again and configure them. This also prevents from wrongly configuring the credentials at diffent places. But, just for a bit of flexibility requested by a committer, i have removed the singleton restriction at some later versions.</p>

<blockquote>
  <p>This is a cool design by opsource to implement their entire web and mobile UI through the APIs and expose them to the customers who wanted to drive these cloud related operations from their apps. Hope opsource_client rubygem helps acting like a starting points for any enthusiasts who want to automate things using this API.</p>
</blockquote>

      <footer class="entry-meta">
        <span class="entry-tags"><a href="http://localhost:4000/tags/#cloud" title="Pages tagged cloud" class="tag"><span class="term">cloud</span></a><a href="http://localhost:4000/tags/#ror" title="Pages tagged ror" class="tag"><span class="term">ror</span></a><a href="http://localhost:4000/tags/#ruby" title="Pages tagged ruby" class="tag"><span class="term">ruby</span></a><a href="http://localhost:4000/tags/#web" title="Pages tagged web" class="tag"><span class="term">web</span></a><a href="http://localhost:4000/tags/#automation" title="Pages tagged automation" class="tag"><span class="term">automation</span></a></span>
        
        <div class="social-share">
  <ul class="socialcount socialcount-small inline-list">
    <li class="facebook"><a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/Opsource-could-rest-api-client/" title="Share on Facebook"><span class="count"><i class="fa fa-facebook-square"></i> Like</span></a></li>
    <li class="twitter"><a href="https://twitter.com/intent/tweet?text=http://localhost:4000/Opsource-could-rest-api-client/" title="Share on Twitter"><span class="count"><i class="fa fa-twitter-square"></i> Tweet</span></a></li>
    <li class="googleplus"><a href="https://plus.google.com/share?url=http://localhost:4000/Opsource-could-rest-api-client/" title="Share on Google Plus"><span class="count"><i class="fa fa-google-plus-square"></i> +1</span></a></li>
  </ul>
</div><!-- /.social-share -->
      </footer>
    </div><!-- /.entry-content -->
    
    <div class="read-more">
  
    <div class="read-more-header">
      <a href="http://localhost:4000/oauth-intro-with-rails/" class="btn btn-read-more">Read More</a>
    </div><!-- /.read-more-header -->
    <!-- <div class="read-more-content">
      <h3><a href="http://localhost:4000/Collaborative-Web-Browsing-Present-and-Future/" title="Collaborative Web Browsing - Present and Future">Collaborative Web Browsing - Present and Future</a></h3>
      <p>Collaborative web browsing is at a pitoval moment. Good to see it getting rolled into utilities such as web browsers, mobile operating systems and etc. <a href="http://localhost:4000/Collaborative-Web-Browsing-Present-and-Future/">Continue reading</a></p>
    </div><!-- /.read-more-content -->
  
  <div class="read-more-list">
    
      <div class="list-item">
        <h4><a href="http://localhost:4000/SERP-Reimagined-for-better-ad-yields/" title="Desktop Web Search Engine Results Page - Design Considerations for Better Ad Revenues">Desktop Web Search Engine Results Page - Design Considerations for Better Ad Revenues</a></h4>
        <span>Published on March 05, 2020</span>
      </div><!-- /.list-item -->
    
      <div class="list-item">
        <h4><a href="http://localhost:4000/Engineering-Leadership-Excellence-Hiring/" title="Engineering Leadership: Hiring & Onboarding 202 - Hire Right, Hire Fast!">Engineering Leadership: Hiring & Onboarding 202 - Hire Right, Hire Fast!</a></h4>
        <span>Published on January 20, 2020</span>
      </div><!-- /.list-item -->
    
  </div><!-- /.read-more-list -->
</div><!-- /.read-more -->

  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2022 Udaya Kiran </span>
<span style="display:block"><a href="https://www.linkedin.com/in/udaykirank/" target="blank"><img src="http://localhost:4000/images/uday.jpg" style="height: 64px;margin-top: 10px;border-radius:50%;border: 1px solid #FF7A59;"/> </a> </span>
<span style="display:block">Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="https://mademistakes.com/work/hpstr-jekyll-theme/" rel="nofollow">HPSTR Theme</a>.</span>

  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://localhost:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://localhost:4000/assets/js/scripts.min.js"></script>






</body>
</html>
